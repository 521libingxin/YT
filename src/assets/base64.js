(function(){var BASE64_MAPPING=['A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','0','1','2','3','4','5','6','7','8','9','+','/'];var _toBinary=function(ascii){var binary=new Array();while(ascii>0){var b=ascii%2;ascii=Math.floor(ascii/2);binary.push(b)}binary.reverse();return binary};var _toDecimal=function(binary){var dec=0;var p=0;for(var i=binary.length-1;i>=0;--i){var b=binary[i];if(b==1){dec+=Math.pow(2,p)}++p}return dec};var _toUTF8Binary=function(c,binaryArray){var mustLen=(8-(c+1))+((c-1)*6);var fatLen=binaryArray.length;var diff=mustLen-fatLen;while(--diff>=0){binaryArray.unshift(0)}var binary=[];var _c=c;while(--_c>=0){binary.push(1)}binary.push(0);var i=0,len=8-(c+1);for(;i<len;++i){binary.push(binaryArray[i])}for(var j=0;j<c-1;++j){binary.push(1);binary.push(0);var sum=6;while(--sum>=0){binary.push(binaryArray[i++])}}return binary};var __BASE64={encoder:function(str){var base64_Index=[];var binaryArray=[];for(var i=0,len=str.length;i<len;++i){var unicode=str.charCodeAt(i);var _tmpBinary=_toBinary(unicode);if(unicode<0x80){var _tmpdiff=8-_tmpBinary.length;while(--_tmpdiff>=0){_tmpBinary.unshift(0)}binaryArray=binaryArray.concat(_tmpBinary)}else if(unicode>=0x80&&unicode<=0x7FF){binaryArray=binaryArray.concat(_toUTF8Binary(2,_tmpBinary))}else if(unicode>=0x800&&unicode<=0xFFFF){binaryArray=binaryArray.concat(_toUTF8Binary(3,_tmpBinary))}else if(unicode>=0x10000&&unicode<=0x1FFFFF){binaryArray=binaryArray.concat(_toUTF8Binary(4,_tmpBinary))}else if(unicode>=0x200000&&unicode<=0x3FFFFFF){binaryArray=binaryArray.concat(_toUTF8Binary(5,_tmpBinary))}else if(unicode>=4000000&&unicode<=0x7FFFFFFF){binaryArray=binaryArray.concat(_toUTF8Binary(6,_tmpBinary))}}var extra_Zero_Count=0;for(var i=0,len=binaryArray.length;i<len;i+=6){var diff=(i+6)-len;if(diff==2){extra_Zero_Count=2}else if(diff==4){extra_Zero_Count=4}var _tmpExtra_Zero_Count=extra_Zero_Count;while(--_tmpExtra_Zero_Count>=0){binaryArray.push(0)}base64_Index.push(_toDecimal(binaryArray.slice(i,i+6)))}var base64='';for(var i=0,len=base64_Index.length;i<len;++i){base64+=BASE64_MAPPING[base64_Index[i]]}for(var i=0,len=extra_Zero_Count/2;i<len;++i){base64+='='}return base64}};window.BASE64=__BASE64})();